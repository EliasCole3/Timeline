{"version":3,"sources":["js-es6.js"],"names":[],"mappings":"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","file":"js.js","sourcesContent":["$(() => {\r\n  abc.initialize()\r\n  // ebot.updateDocumentation(abc)\r\n})\r\n\r\n\r\n/*\r\nTo do\r\n \r\n user validation\r\n filters\r\n deploy everything\r\n on event create/update, move window to event\r\n copy feature\r\n Clean up server.js\r\n hotkeys\r\n textured background for border too\r\n User created custom buttons\r\n Profiles\r\n Intern tests\r\n*/\r\n\r\n/**\r\n * initialize()\r\n * reset()\r\n * handlerEventCreateButton()\r\n * handlersRUD()\r\n * getEventReadForm()\r\n * handlersEventReadForm()\r\n * getEventCreateForm()\r\n * getEventUpdateForm()\r\n * getEventDeleteForm()\r\n * handlersEventCreateForm()\r\n * handlersEventUpdateForm()\r\n * handlersEventDeleteFormSingle()\r\n * assignStackToggleHandler()\r\n * assignRedrawHandler()\r\n * fillTimelineFilterSelect()\r\n * createTimeline()\r\n * handlersForTimeline()\r\n * createGroups()\r\n * createTimelineItems()\r\n * filterTimelineItems()\r\n * addTimelineItem()\r\n * retrieveEvents()\r\n * timeline\r\n * events\r\n * apiurl\r\n * getTimelineOptions()\r\n * timelineGroups\r\n * timelineItems\r\n * dynaTable\r\n * isStacked\r\n * timelineMinHeight\r\n * timelineMaxHeight\r\n * isPageLoad\r\n * lastSelectedEventId\r\n * rudActionsVisible\r\n */\r\nlet abc = {\r\n\r\n  initialize: () => {\r\n    abc.handlerEventCreateButton()\r\n    abc.reset()\r\n    abc.assignStackToggleHandler()\r\n    abc.assignRedrawHandler()\r\n    abc.handlersRUD()\r\n    abc.handlersTimelineControls()\r\n    abc.handlersMacroButtons()\r\n    abc.handlersMacroButtonsWithDate()\r\n  },\r\n  \r\n  reset: () => {\r\n    abc.retrieveEvents().then(() => {\r\n      abc.createTimeline()\r\n      abc.handlersForTimeline()\r\n      abc.fillTimelineFilterSelect()\r\n      abc.isPageLoad = false\r\n    })\r\n  },\r\n  \r\n  handlersTimelineControls: () => {\r\n    $(\".timeline-control\").change(() => {\r\n      abc.redrawTimeline()\r\n    })\r\n  },\r\n  \r\n  handlerEventCreateButton: () => {\r\n    $(\"#event-create-button\").click(() => {\r\n      let headerText = \"Creating New Event\"\r\n      let formHtml = abc.getEventCreateForm()\r\n      ebot.showModal(headerText, formHtml)\r\n      abc.handlersEventCreateForm()\r\n    })\r\n  },\r\n  \r\n  handlersRUD: () => {\r\n    $(\"#read\").click(() => {\r\n      let event = abc.getEvent(abc.lastSelectedEventId)\r\n      let headerText = event.name\r\n      let formHtml = abc.getEventReadForm(event)\r\n      ebot.showModal(headerText, formHtml)\r\n    })\r\n    \r\n    $(\"#update\").click(() => {\r\n      let event = abc.getEvent(abc.lastSelectedEventId)\r\n      let headerText = `Updating Event: ${event.name}`\r\n      let formHtml = abc.getEventUpdateForm()\r\n      ebot.showModal(headerText, formHtml)\r\n      abc.handlersEventUpdateForm(event)\r\n    })\r\n    \r\n    $(\"#delete\").click(() => {\r\n      if(abc.multipleEventsSelected) {\r\n        let eventIds = abc.timeline.getSelection()\r\n        \r\n        let events = abc.events.filter(event => {\r\n          return eventIds.indexOf(event.eventId) > -1\r\n        }) \r\n        \r\n        let headerText = `Are you sure you want to delete these events?`\r\n        let formHtml = abc.getEventDeleteForm()\r\n        ebot.showModal(headerText, formHtml)\r\n        abc.handlersEventDeleteFormMultiple(events) \r\n      } else {\r\n        let event = abc.getEvent(abc.lastSelectedEventId)\r\n        let headerText = `Are you sure you want to delete event: ${event.name}?`\r\n        let formHtml = abc.getEventDeleteForm()\r\n        ebot.showModal(headerText, formHtml)\r\n        abc.handlersEventDeleteFormSingle(event) \r\n      }\r\n    })\r\n  },\r\n  \r\n  getEventReadForm: event => {\r\n    let htmlString = \"\"\r\n    \r\n    for(let prop in event) {\r\n      htmlString += `${prop}: ${event[prop]}<br />`\r\n    }\r\n    \r\n    return htmlString\r\n  },\r\n  \r\n  getEventCreateForm: () => {\r\n    let htmlString =\r\n      `<label>Name</label><input id='name' class='form-control' /><br />\r\n      <label>Type</label><input id='type' class='form-control' /><br />\r\n      <label>Start Date</label><input id='start-date' type='date' class='form-control' /><br />\r\n      <label>End Date</label><input id='end-date' type='date' class='form-control' /><br />\r\n      <label>Details</label><textarea id='details' class='form-control' ></textarea><br />\r\n      <button id='submit' class='btn btn-lg form-control' type='submit'>Submit</button>`\r\n\r\n    return htmlString\r\n  },\r\n\r\n  getEventUpdateForm: () => {\r\n    let htmlString =\r\n      `<label>Name</label><input id='name' class='form-control' /><br />\r\n      <label>Type</label><input id='type' class='form-control' /><br />\r\n      <label>Start Date</label><input id='start-date' type='date' class='form-control' /><br />\r\n      <label>End Date</label><input id='end-date' type='date' class='form-control' /><br />\r\n      <label>Details</label><textarea id='details' class='form-control' ></textarea><br />\r\n      <button id='submit' class='btn btn-lg form-control' type='submit'>Submit</button>`\r\n\r\n    return htmlString\r\n  },\r\n\r\n  getEventDeleteForm: () => {\r\n    return `<button id='submit' class='btn btn-lg form-control' type='submit'>Yes</button>`\r\n  },\r\n  \r\n  handlersEventCreateForm: () => {\r\n    $(\"#submit\").click(() => {\r\n      \r\n      let name = $(\"#name\").val()\r\n      let type = $(\"#type\").val()\r\n      let startDate = $(\"#start-date\").val()\r\n      let endDate = $(\"#end-date\").val()\r\n      let details = $(\"#details\").val()\r\n      \r\n      let dataForAjax = JSON.stringify({\r\n        \"name\" : name,\r\n        \"type\" : type,\r\n        \"startDate\" : startDate,\r\n        \"endDate\" : endDate,\r\n        \"details\" : details,\r\n      })\r\n     \r\n      abc.createEvent(dataForAjax).then(data => {\r\n        $(\"#modal\").modal(\"hide\")\r\n        console.log(data)\r\n        abc.reset()\r\n      })\r\n      \r\n    })\r\n  },\r\n  \r\n  handlersEventUpdateForm: oldEvent => {\r\n    \r\n    //get old data and fill form\r\n    $(\"#name\").val(oldEvent.name)\r\n    $(\"#type\").val(oldEvent.type)\r\n    $(\"#start-date\").val(oldEvent.startDate)\r\n    $(\"#end-date\").val(oldEvent.endDate)\r\n    $(\"#details\").val(oldEvent.details)\r\n    \r\n    $(\"#submit\").click(() => {\r\n      let mongoId = oldEvent._id\r\n      let name = $(\"#name\").val()\r\n      let type = $(\"#type\").val()\r\n      let startDate = $(\"#start-date\").val()\r\n      let endDate = $(\"#end-date\").val()\r\n      let details = $(\"#details\").val()\r\n      \r\n      let dataForAjax = JSON.stringify({\r\n        \"_id\" : mongoId,\r\n        \"name\" : name,\r\n        \"type\" : type,\r\n        \"startDate\" : startDate,\r\n        \"endDate\" : endDate,\r\n        \"details\" : details,\r\n      })\r\n      \r\n      $.ajax({\r\n        type: \"PUT\",\r\n        url: abc.apiurl + \"/\" + oldEvent._id,\r\n        data: dataForAjax,\r\n        contentType: \"application/json charset=utf-8\",\r\n        success: (data, status, jqXHR) => {\r\n          $(\"#modal\").modal(\"hide\")\r\n          abc.reset()\r\n        },\r\n        error: (jqXHR, status) => {\r\n          ebot.notify(`error updating event: ${oldEvent.name}`)\r\n          console.log(jqXHR)\r\n        }\r\n      })\r\n    })\r\n  },\r\n  \r\n\r\n  handlersEventDeleteFormSingle: event => {\r\n    $(\"#submit\").click(() => {\r\n      $.when(abc.getDeleteDeferred(event)).done(() => {\r\n        ebot.notify(\"event successfully deleted!\")\r\n        $(\"#actions\").hide()\r\n        abc.rudActionsVisible = false\r\n        abc.reset()\r\n      })\r\n    })\r\n  },\r\n\r\n  handlersEventDeleteFormMultiple: events => {\r\n    $(\"#submit\").click(() => {\r\n      let deferreds = []\r\n    \r\n      events.forEach(event => {\r\n        deferreds.push(\r\n          abc.getDeleteDeferred(event)\r\n        )\r\n      })\r\n      \r\n      $.when.apply($, deferreds).done(() => {\r\n        ebot.notify(\"all events successfully deleted!\")\r\n        $(\"#actions\").hide()\r\n        abc.rudActionsVisible = false\r\n        abc.reset()\r\n      })\r\n    })\r\n  },\r\n  \r\n  getDeleteDeferred: event => {\r\n    let deferred = $.ajax({\r\n        type: \"DELETE\",\r\n        url: abc.apiurl + \"/\" + event._id,\r\n        success: (data, status, jqXHR) => {\r\n          $(\"#modal\").modal(\"hide\")\r\n          console.log(data)\r\n        },\r\n        error: (jqXHR, status) => {\r\n          ebot.notify(`error deleting event: ${event.name}`)\r\n          console.log(jqXHR)\r\n        }\r\n      })\r\n\r\n    return deferred\r\n  },\r\n  \r\n  assignStackToggleHandler: () => {\r\n    $(\"#stack-option\").click(() => {\r\n      let today = moment()\r\n      abc.isStacked ? abc.isStacked = false : abc.isStacked = true\r\n      let options = {\r\n        maxHeight: \"400px\", \r\n        min: \"2010-1-1\",\r\n        max: \"2020-01-01\",\r\n        editable: {updateGroup: true},\r\n        orientation: \"both\",\r\n        stack: abc.isStacked,\r\n      }\r\n      abc.timeline.setOptions(abc.getTimelineOptions())\r\n      abc.timeline.redraw()\r\n    })\r\n  },\r\n  \r\n  assignRedrawHandler: () => {\r\n    $(\"#redraw\").click(() => {\r\n      abc.redrawTimeline()\r\n    })\r\n  },\r\n  \r\n  redrawTimeline: () => {\r\n    let today = moment()\r\n    let monthAgo = moment().subtract(1, \"months\")\r\n    let monthForward = moment().add(1, \"months\")\r\n    \r\n    let startDate = $(\"#range-start\").val()\r\n    let endDate = $(\"#range-end\").val()\r\n    let height = $(\"#height\").val()\r\n    abc.filterTimelineItems()\r\n\r\n    if(startDate === \"\") {\r\n      startDate = monthAgo\r\n    }\r\n    \r\n    if(endDate === \"\") {\r\n      endDate = monthForward\r\n    }\r\n\r\n    if(height < abc.timelineMinHeight || height > abc.timelineMaxHeight) {\r\n      height = 400\r\n      ebot.notify(\"Please choose a height between \" + abc.timelineMinHeight + \" and \" + abc.timelineMaxHeight + \"\", 5000)\r\n    }\r\n    \r\n    height = height + \"px\"\r\n    abc.timelineOptions.height = height\r\n    \r\n    abc.timeline.setItems(abc.timelineItems)\r\n    abc.timeline.setOptions(abc.getTimelineOptions())\r\n    abc.timeline.redraw()\r\n    abc.timeline.setWindow(startDate, endDate)\r\n  },\r\n  \r\n  fillTimelineFilterSelect: () => {\r\n\r\n    //this wasn't allowing chosen to be activated the first time.\r\n    if(!abc.isPageLoad) {\r\n      $(\"#timeline-filter-select\").chosen(\"destroy\")\r\n    }\r\n    \r\n    let htmlString = `<option value=''></option>`\r\n    \r\n    let uniqueEventTypes = ebot.getUniqueFields(abc.events, \"type\").sort()\r\n    \r\n    uniqueEventTypes.forEach(eventType => {\r\n      htmlString += `<option value='${eventType}'>${eventType}</option>`\r\n    })\r\n    \r\n    $(\"#timeline-filter-select\").html(htmlString)\r\n    $(\"#timeline-filter-select\").chosen(ebot.chosenOptions)\r\n  },\r\n  \r\n  createTimeline: () => {\r\n    $(\"#timeline\").html(\"\")\r\n    \r\n    let container = document.getElementById(\"timeline\")\r\n    abc.timeline = new vis.Timeline(container)\r\n    \r\n    abc.timeline.setOptions(abc.getTimelineOptions())\r\n    \r\n    // abc.createGroups()\r\n    // abc.timeline.setGroups(abc.timelineGroups)\r\n    \r\n    abc.createTimelineItems()\r\n    abc.timeline.setItems(abc.timelineItems)\r\n  },\r\n  \r\n  handlersForTimeline: () => {\r\n    abc.timeline.on(\"select\", function (properties) {\r\n\r\n      //the first time an event is selected, show RUD actions\r\n      if(!abc.rudActionsVisible) {\r\n        $(\"#actions\").show(ebot.showOptions)\r\n        abc.rudActionsVisible = true\r\n      }\r\n      \r\n      abc.multipleEventsSelected = false\r\n      \r\n      if(properties.items.length > 1) abc.multipleEventsSelected = true\r\n      \r\n      if(abc.multipleEventsSelected) {\r\n        abc.disableReadButton()\r\n        abc.disableUpdateButton()\r\n        abc.changeDeleteButtonMultiple()\r\n        let selectedIds = properties.items //alternatively: abc.timeline.getSelection()\r\n      } else {\r\n        let index = properties.items.length - 1\r\n        abc.lastSelectedEventId = properties.items[index]\r\n        abc.enableReadButton()\r\n        abc.enableUpdateButton()\r\n        abc.changeDeleteButtonSingle()\r\n      }\r\n    })\r\n  },\r\n  \r\n  enableReadButton: () => {\r\n    $(\"#read\").removeClass(\"disabled\")\r\n  },\r\n\r\n  disableReadButton: () => {\r\n    $(\"#read\").addClass(\"disabled\")\r\n  },\r\n  \r\n  enableUpdateButton: () => {\r\n    $(\"#update\").removeClass(\"disabled\")\r\n  },\r\n  \r\n  disableUpdateButton: () => {\r\n    $(\"#update\").addClass(\"disabled\")\r\n  },\r\n  \r\n  changeDeleteButtonSingle: () => {\r\n    $(\"#delete\").text(\"Delete\")\r\n    $(\"#actions\").addClass(\"actions-single-event\").removeClass(\"actions-multiple-events\")\r\n  },\r\n  \r\n  changeDeleteButtonMultiple: () => {\r\n    $(\"#delete\").text(\"Delete All\")\r\n    $(\"#actions\").removeClass(\"actions-single-event\").addClass(\"actions-multiple-events\")\r\n  },\r\n  \r\n  createGroups: () => {\r\n    abc.timelineGroups = new vis.DataSet()\r\n    for (let i = 1; i <= 4; i++) {\r\n      abc.timelineGroups.add({id: i, content: \"group number \" + i})\r\n    }\r\n  },\r\n\r\n  createTimelineItems: () => {\r\n    abc.timelineItems = new vis.DataSet()\r\n    \r\n    abc.events.forEach(event => {\r\n      abc.addTimelineItem(event)\r\n    })\r\n  },\r\n  \r\n  filterTimelineItems: () => {\r\n   abc.timelineItems = new vis.DataSet()\r\n    \r\n    let typeToFilterBy = $(\"#timeline-filter-select\").val()\r\n\r\n    abc.events.forEach(event => {\r\n\r\n      if(typeToFilterBy === null || typeToFilterBy === \"\") { //null on page load, empty string after the select element is filled\r\n        abc.addTimelineItem(event)\r\n      } else if(typeToFilterBy === event.type) {\r\n        abc.addTimelineItem(event)\r\n      } else {\r\n        // console.log(\"Event not added, didn't match type\")\r\n      }\r\n      \r\n    })\r\n  },\r\n  \r\n  addTimelineItem: event => {\r\n    abc.timelineItems.add({\r\n      id: event.eventId,\r\n      group: 1,\r\n      content: event.name,\r\n      start: moment(event.startDate),\r\n      // end: moment(event.startDate),\r\n      type: \"box\"\r\n    })\r\n  },\r\n  \r\n  retrieveEvents: () => {\r\n    return $.ajax({\r\n      type: \"GET\",\r\n      url: abc.apiurl,\r\n      success: (data, status, jqXHR) => {\r\n        abc.events = data\r\n      },\r\n      error: (jqXHR, status) => {\r\n        console.log(jqXHR)\r\n      }\r\n    })\r\n  },\r\n  \r\n  handlersMacroButtons: () => {\r\n    $(\".macro-button\").click(e => {\r\n      let button = $(e.currentTarget)\r\n      let name = button.attr(\"macro-name\")\r\n      let type = button.attr(\"macro-type\")\r\n      let today = moment().format(\"YYYY-MM-DD\")\r\n      \r\n      let dataForAjax = JSON.stringify({\r\n        \"name\" : name,\r\n        \"type\" : type,\r\n        \"startDate\" : today,\r\n        \"endDate\" : \"\",\r\n        \"details\" : \"\",\r\n      })\r\n\r\n\r\n      abc.createEvent(dataForAjax).then(data => {\r\n        $(\"#modal\").modal(\"hide\")\r\n        console.log(data)\r\n        abc.reset()\r\n      })\r\n      \r\n    })\r\n  },\r\n  \r\n  handlersMacroButtonsWithDate: () => {\r\n    $(\".macro-button-with-date\").click(e => {\r\n      let button = $(e.currentTarget)\r\n      let name = button.attr(\"macro-name\")\r\n      let type = button.attr(\"macro-type\")\r\n      let date = moment($(\"#date-for-macro-buttons\").val()).format(\"YYYY-MM-DD\")\r\n      console.log(date)\r\n      \r\n      let dataForAjax = JSON.stringify({\r\n        \"name\" : name,\r\n        \"type\" : type,\r\n        \"startDate\" : date,\r\n        \"endDate\" : \"\",\r\n        \"details\" : \"\",\r\n      })\r\n\r\n      abc.createEvent(dataForAjax).then(data => {\r\n        $(\"#modal\").modal(\"hide\")\r\n        console.log(data)\r\n        abc.reset()\r\n      })\r\n      \r\n    })\r\n  },\r\n\r\n  timeline: \"\",\r\n\r\n  events: [],\r\n  \r\n  apiurl: \"http://localhost:8081/api/events\",\r\n  // apiurl: \"http://192.241.203.33:8081/api/events\",\r\n\r\n  getTimelineOptions: () => { //this has to be a function because it references one of it's own properties\r\n    let options = deepcopy(abc.timelineOptions)\r\n    options.maxHeight = abc.timelineMaxHeight\r\n    options.minHeight = abc.timelineMinHeight\r\n    options.stack = abc.isStacked\r\n    options.start = moment().subtract(2, 'weeks').format(\"YYYY-MM-DD\")\r\n    options.end = moment().add(1, 'weeks').format(\"YYYY-MM-DD\")\r\n    return options\r\n  },\r\n\r\n  getEvent: eventId => {\r\n    let event = abc.events.filter(event => {\r\n      return event.eventId === eventId\r\n    })[0]\r\n\r\n    return event\r\n  },\r\n\r\n  createEvent: jsonData => {\r\n    let deferred = $.ajax({\r\n      type: \"POST\",\r\n      url: abc.apiurl,\r\n      data: jsonData,\r\n      // contentType: \"application/json charset=utf-8\",\r\n      contentType: \"application/x-www-form-urlencoded\",\r\n      success: (data, status, jqXHR) => {},\r\n      error: (jqXHR, status) => {\r\n        ebot.notify(\"error creating an event\")\r\n        console.log(jqXHR)\r\n      }\r\n    }).promise()\r\n\r\n    return deferred\r\n  },\r\n  \r\n  timelineOptions: {\r\n    height: \"400px\",\r\n    min: \"2010-01-01\",\r\n    max: \"2020-01-01\",\r\n    editable: {updateGroup: true},\r\n    start: \"2015-08-1\",\r\n    end: \"2015-09-1\",\r\n    orientation: \"both\",\r\n    multiselect: true,\r\n  },\r\n  \r\n  timelineGroups: \"\",\r\n  \r\n  timelineItems: [],\r\n  \r\n  isStacked: true,\r\n  \r\n  timelineMinHeight: 200,\r\n  \r\n  timelineMaxHeight: 2000,\r\n  \r\n  isPageLoad: true,\r\n  \r\n  lastSelectedEventId: 0,\r\n  \r\n  rudActionsVisible: false,\r\n  \r\n  multipleEventsSelected: false,\r\n  \r\n\r\n}\r\n"]}